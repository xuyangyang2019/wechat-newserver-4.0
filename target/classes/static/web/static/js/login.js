(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"27f7":function(e,t,o){},"48ca":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-page"},["electron"===e.currentMode?i("div",{staticClass:"electron-menu",staticStyle:{"-webkit-app-region":"drag"}},[i("i",{staticClass:"fa fa-minus fa-lg",staticStyle:{"margin-right":"10px","-webkit-app-region":"no-drag"},attrs:{"aria-hidden":"true"},on:{click:e.minimizeWindow}}),i("i",{staticClass:"fa fa-times fa-lg",staticStyle:{"-webkit-app-region":"no-drag"},attrs:{"aria-hidden":"true"},on:{click:e.closeElectron}})]):e._e(),i("div",{staticClass:"login-page-form"},[i("img",{staticClass:"login-logo",attrs:{src:o("9d64"),alt:"",srcset:""}}),i("el-form",{ref:"ruleForm",attrs:{model:e.loginForm,rules:e.rules,size:"medium","status-icon":""}},[i("el-form-item",{attrs:{prop:"name"}},[i("el-input",{attrs:{step:"background:#f9fbff;",size:"medium",maxlength:"30",placeholder:"请输入账号","prefix-icon":"el-icon-user-solid"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name","string"===typeof t?t.trim():t)},expression:"loginForm.name"}})],1),i("el-form-item",{attrs:{prop:"pass"}},[i("el-input",{attrs:{type:"password",size:"medium",autocomplete:"off","show-password":"",placeholder:"请输入密码",maxlength:"30","prefix-icon":"el-icon-unlock"},model:{value:e.loginForm.pass,callback:function(t){e.$set(e.loginForm,"pass","string"===typeof t?t.trim():t)},expression:"loginForm.pass"}})],1)],1),i("div",{staticClass:"forget-password"},[i("el-checkbox",{model:{value:e.agreement,callback:function(t){e.agreement=t},expression:"agreement"}},[i("span",{staticStyle:{color:"#a2a2a2"}},[e._v("我已阅读并同意")]),i("span",{staticStyle:{color:"#e96500"}},[e._v("用户协议")])]),i("el-checkbox",{model:{value:e.rememberPwd,callback:function(t){e.rememberPwd=t},expression:"rememberPwd"}},[e._v("记住密码")])],1),i("div",{staticClass:"login_btn_box"},[i("el-button",{staticClass:"login-btn",attrs:{type:"primary",loading:e.logined,disabled:e.logined},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 登 录 ")])],1),i("div",{staticClass:"forget-password"},[i("div",[e._v(" 还没有账号? "),i("el-button",{staticStyle:{color:"#e96500"},attrs:{type:"text"}},[e._v("免费注册")])],1),i("div",[i("el-button",{staticStyle:{color:"#a2a2a2"},attrs:{type:"text",size:"medium"},domProps:{textContent:e._s("client"===e.clientOrServer?"客户端登陆":"管理端登录")},on:{click:function(t){return e.SET_CLIENT_OR_SERVER("client"===e.clientOrServer?"server":"client")}}})],1)])],1),i("p",{staticClass:"version"},[e._v("V "+e._s(e.version))])])},r=[],a=(o("b0c0"),o("ac1f"),o("5319"),o("5530")),n=o("2f62"),l=o("a97a"),s=o("2c32"),c={name:"LoginPage",data:function(){var e=function(e,t,o){if(!t)return o(new Error("用户名不能为空"));o()},t=function(e,t,o){""===t?o(new Error("请输入密码")):o()};return{agreement:!0,loginForm:{name:"",pass:""},rules:{name:[{validator:e,trigger:"blur"}],pass:[{validator:t,trigger:"blur"}]},logined:!1,version:o("9224").version,rememberPwd:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(n["d"])({webSocketState:"webSocketState",clientOrServer:"clientOrServer",currentMode:"currentMode"})),{},{localName:function(){return localStorage.getItem("localNameOfJuboChat")?localStorage.getItem("localNameOfJuboChat"):""},localPwd:function(){return localStorage.getItem("localPwdOfJuboChat")?localStorage.getItem("localPwdOfJuboChat"):""}}),watch:{rememberPwd:function(e){e?localStorage.setItem("remarkPwdOfJuboChat",1):(localStorage.removeItem("remarkPwdOfJuboChat"),localStorage.removeItem("localNameOfJuboChat"),localStorage.removeItem("localPwdOfJuboChat"))}},mounted:function(){localStorage.getItem("remarkPwdOfJuboChat")&&(this.rememberPwd=!0,this.localName&&this.localPwd&&(this.loginForm.name=this.localName,this.loginForm.pass=this.localPwd))},methods:Object(a["a"])(Object(a["a"])({},Object(n["c"])({SET_ADMIN_INO:"SET_ADMIN_INO",SET_LOGIN_INFO:"SET_LOGIN_INFO",SET_WEBSOCKET_TOKEN:"SET_WEBSOCKET_TOKEN",SET_CLIENT_OR_SERVER:"SET_CLIENT_OR_SERVER",SET_LOGIN_LOADING:"websocket/SET_LOGIN_LOADING"})),{},{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;if(t.rememberPwd&&(localStorage.setItem("localNameOfJuboChat",t.loginForm.name),localStorage.setItem("localPwdOfJuboChat",t.loginForm.pass)),t.SET_LOGIN_INFO({name:t.loginForm.name,pass:t.loginForm.pass}),"client"===t.clientOrServer)switch(t.webSocketState){case 0:t.$alert("websocket正在连接，请稍后再试！","提示",{type:"info"});break;case 1:t.logined=!0,setTimeout((function(){Object(s["g"])(t.loginForm.name,t.loginForm.pass)}),500),setTimeout((function(){t.logined=!1}),5e3);break;default:t.$alert("websocket连接失败！","提示",{type:"warning"});break}else t.logined=!0,Object(l["s"])(t.loginForm.name,t.loginForm.pass).then((function(e){t.logined=!1,0===e.code?(t.$store.commit("SET_ADMIN_INO",e.data),t.$store.commit("SET_HTTP_TOKEN",e.data.token),t.$router.replace({name:"admin"})):t.logined=!1})).catch((function(){t.logined=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()},minimizeWindow:function(){this.$ipcRenderer.send("operations","min")},closeElectron:function(){this.$ipcRenderer.send("operations","exit")}})},u=c,m=(o("81d4"),o("2877")),d=Object(m["a"])(u,i,r,!1,null,"5b19d589",null);t["default"]=d.exports},"81d4":function(e,t,o){"use strict";var i=o("27f7"),r=o.n(i);r.a},9224:function(e){e.exports=JSON.parse('{"name":"jubo-chat","version":"4.9.53","private":true,"description":"this is description","author":"xyy","scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","stage":"vue-cli-service serve --mode stage","electron:stage":"vue-cli-service electron:serve --mode stage.electron","electron:serve":"vue-cli-service electron:serve --mode development.electron","electron:prod":"vue-cli-service electron:build --mode production.electron","lint":"vue-cli-service lint","postinstall":"electron-builder install-app-deps","postuninstall":"electron-builder install-app-deps","test:unit":"vue-cli-service test:unit"},"dependencies":{"animate.css":"^3.7.2","axios":"^0.19.0","core-js":"^3.3.2","dayjs":"^1.8.17","default-passive-events":"^1.0.10","element-ui":"^2.13.0","file-saver":"^2.0.1","lodash":"^4.17.15","nedb":"^1.8.0","number-precision":"^1.3.2","register-service-worker":"^1.6.2","vue":"^2.6.10","vue-i18n":"^8.15.0","vue-router":"^3.3.2","vuex":"^3.0.1","vuex-router-sync":"^5.0.0","xlsx":"^0.17.1"},"devDependencies":{"@vue/cli-plugin-babel":"^4.0.0","@vue/cli-plugin-eslint":"^4.0.0","@vue/cli-plugin-pwa":"^4.0.0","@vue/cli-plugin-router":"^4.0.0","@vue/cli-plugin-unit-mocha":"^4.0.0","@vue/cli-plugin-vuex":"^4.0.0","@vue/cli-service":"^4.0.0","@vue/test-utils":"1.0.0-beta.29","babel-eslint":"^10.0.3","babel-plugin-component":"^1.1.1","babili-webpack-plugin":"^0.1.2","cfonts":"^2.8.2","chai":"^4.1.2","compression-webpack-plugin":"^5.0.1","electron":"^9.0.2","electron-packager":"^14.2.1","eslint":"^5.16.0","eslint-plugin-prettier":"^3.3.0","eslint-plugin-vue":"^5.0.0","multispinner":"^0.2.1","prettier":"^2.2.1","prettier-eslint":"^12.0.0","sass":"^1.19.0","sass-loader":"^8.0.0","vue-cli-plugin-electron-builder":"^2.0.0-rc.1","vue-template-compiler":"^2.6.10","webpack-hot-middleware":"^2.25.0"},"main":"background.js","productName":"聚聊CRM"}')},"9d64":function(e,t,o){e.exports=o.p+"static/img/logo.png"}}]);